import{a as U}from"./chunk-GN7VLED3.js";import{a as z}from"./chunk-XCC24VLG.js";import{a as K}from"./chunk-AZ3SLBW5.js";import"./chunk-OA5BMNMG.js";import{a as M}from"./chunk-KNK3ANK6.js";import{b as N,c as s,d as V,e as j,g as q,h as D,i as H,j as A,k,l as R,m as G,n as O,o as W}from"./chunk-OO4EHEJG.js";import{a as B}from"./chunk-GWDSJW3V.js";import{a as w}from"./chunk-ZNQGM4JM.js";import"./chunk-E4T5XHJF.js";import{d as I,f as F,n as L,p as P,u as T}from"./chunk-FDMMK7UD.js";import{$a as p,Aa as r,Ba as v,Ma as u,Oa as f,Qa as b,Ua as o,Va as t,Wa as x,X as S,Za as C,_a as h,ea as _,eb as a,fa as g,gb as d,kb as y}from"./chunk-2AQWV6M7.js";import{d as E}from"./chunk-4CLCTAJ7.js";function $(i,m){i&1&&(o(0,"p",15),a(1,"Loader"),t())}function ee(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.title)," ")}}function te(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.pdf)," ")}}function ie(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.author)," ")}}function ne(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.banner)," ")}}function oe(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.creater)," ")}}function re(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.status)," ")}}function ae(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.featured)," ")}}function le(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.thumbnail)," ")}}function de(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.short_description)," ")}}function me(i,m){if(i&1&&(o(0,"div",37),a(1),t()),i&2){let n=p(2);r(),d(" ",n.myFormService.getErrorMessage(n.form.controls.long_description)," ")}}function ce(i,m){if(i&1){let n=C();o(0,"form",17),h("ngSubmit",function(){_(n);let l=p();return g(l.onSubmit())}),o(1,"div",18)(2,"div",19)(3,"div",20)(4,"label",21),a(5),t(),x(6,"input",22),u(7,ee,2,1,"div",23),t()(),o(8,"div",19)(9,"div",20)(10,"label",21),a(11),t(),o(12,"app-img-uploader",24),h("imgHanle",function(l){_(n);let e=p();return g(e.form.controls.pdf.patchValue(l.path))}),t(),u(13,te,2,1,"div",23),t()(),o(14,"div",19)(15,"div",20)(16,"label",21),a(17),t(),x(18,"input",25),u(19,ie,2,1,"div",23),t()(),o(20,"div",19)(21,"div",20)(22,"label",21),a(23),t(),o(24,"app-img-uploader",24),h("imgHanle",function(l){_(n);let e=p();return g(e.form.controls.banner.patchValue(l.path))}),t(),u(25,ne,2,1,"div",23),t()(),o(26,"div",19)(27,"div",20)(28,"label",21),a(29),t(),x(30,"input",26),u(31,oe,2,1,"div",23),t()(),o(32,"div",19)(33,"div",20)(34,"label",21),a(35,"Status"),t(),o(36,"select",27)(37,"option",28),a(38,"Select Status"),t(),o(39,"option",29),a(40,"Enable"),t(),o(41,"option",30),a(42,"Disable"),t()(),u(43,re,2,1,"div",23),t()(),o(44,"div",19)(45,"div",20)(46,"label",21),a(47,"Is Featured"),t(),o(48,"select",31)(49,"option",28),a(50,"Select Featured"),t(),o(51,"option",29),a(52,"Yes"),t(),o(53,"option",30),a(54,"No"),t()(),u(55,ae,2,1,"div",23),t()(),o(56,"div",19)(57,"div",20)(58,"label",21),a(59),t(),o(60,"app-img-uploader",24),h("imgHanle",function(l){_(n);let e=p();return g(e.form.controls.thumbnail.patchValue(l.path))}),t(),u(61,le,2,1,"div",23),t()(),o(62,"div",32)(63,"div",20)(64,"label",21),a(65),t(),x(66,"input",33),u(67,de,2,1,"div",23),t()(),o(68,"div",32)(69,"div",20)(70,"label",21),a(71),t(),x(72,"editor",34),u(73,me,2,1,"div",23),t()(),o(74,"div",35)(75,"button",36),a(76,"Submit"),t()()()()}if(i&2){let n,c,l,e=p();f("formGroup",e.form),r(5),d("Title (",e.lang.lang,")"),r(2),f("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),r(4),d("PDF (",e.lang.lang,")"),r(),f("image",(n=e.form.controls.pdf.value)!==null&&n!==void 0?n:""),r(),f("ngIf",e.form.controls.pdf.invalid&&(e.form.controls.pdf.dirty||e.form.controls.pdf.touched)),r(4),d("Author (",e.lang.lang,")"),r(2),f("ngIf",e.form.controls.author.invalid&&(e.form.controls.author.dirty||e.form.controls.author.touched)),r(4),d("Banner (",e.lang.lang,")"),r(),f("image",(c=e.form.controls.banner.value)!==null&&c!==void 0?c:""),r(),f("ngIf",e.form.controls.banner.invalid&&(e.form.controls.banner.dirty||e.form.controls.banner.touched)),r(4),d("Creater (",e.lang.lang,")"),r(2),f("ngIf",e.form.controls.creater.invalid&&(e.form.controls.creater.dirty||e.form.controls.author.touched)),r(12),f("ngIf",e.form.controls.status.invalid&&(e.form.controls.status.dirty||e.form.controls.status.touched)),r(12),f("ngIf",e.form.controls.featured.invalid&&(e.form.controls.featured.dirty||e.form.controls.featured.touched)),r(4),d("Thumbnail (",e.lang.lang,")"),r(),f("image",(l=e.form.controls.thumbnail.value)!==null&&l!==void 0?l:""),r(),f("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),r(4),d("Short Description (",e.lang.lang,")"),r(2),f("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),r(4),d("Long Description (",e.lang.lang,")"),r(),f("init",e.init),r(),f("ngIf",e.form.controls.long_description.invalid&&(e.form.controls.long_description.dirty||e.form.controls.long_description.touched)),r(2),f("disabled",e.formLoader)}}var ye=(()=>{let m=class m{constructor(c,l,e,Y,J,Q,X,Z){this.fb=c,this.notification=l,this.myFormService=e,this.service=Y,this.route=J,this.router=Q,this.lang=X,this.websiteService=Z,this.formLoader=!1,this.editId="",this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({title:["",[s.required,s.maxLength(100)]],pdf:["",[s.required,s.maxLength(100)]],author:["",[s.required,s.maxLength(100)]],banner:["",[s.required,s.maxLength(100)]],creater:["",[s.required,s.maxLength(100)]],short_description:["",[s.required,s.maxLength(300)]],thumbnail:["",s.required],featured:["",s.required],status:["",s.required],long_description:["",[s.required,s.maxLength(1e4)]]})}ngOnInit(){this.route.paramMap.subscribe(c=>{this.editId=c.get("id"),this.getRecord(this.editId)})}getRecord(c){return E(this,null,function*(){this.formLoader=!0,this.service.list({type:"pdf",id:Number(this.editId),limit:1}).subscribe({next:l=>{let e=l.data.data[0];e&&this.form.patchValue({title:e.title,pdf:e.pdf,author:e.author,short_description:e.short_description,long_description:e.long_description,thumbnail:e.thumbnail,status:e.status,featured:e.is_featured}),this.notification.success(l.message),this.formLoader=!1},error:l=>{let e=l.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})})}onSubmit(){return E(this,null,function*(){if(this.form.valid){let c=this.form.value;c.type="pdf",c.id=this.editId,this.formLoader=!0,this.service.update(c).subscribe({next:l=>{this.formLoader=!1,this.notification.success(l.message),this.getRecord(this.editId),this.formLoader=!1},error:l=>{let e=l.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.formLoader=!1,this.form.markAllAsTouched(),this.notification.error("Validation Failed")})}};m.\u0275fac=function(l){return new(l||m)(v(G),v(T),v(U),v(B),v(L),v(P),v(w),v(M))},m.\u0275cmp=S({type:m,selectors:[["app-pdf-edit"]],standalone:!0,features:[y],decls:21,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[1,"text-center"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],[3,"imgHanle","image"],["formControlName","author","placeholder","Author",1,"form-control"],["formControlName","creater","placeholder","Creater",1,"form-control"],["formControlName","status",1,"form-control"],["value",""],["value","1"],["value","0"],["formControlName","featured",1,"form-control"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],["formControlName","long_description","apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9",3,"init"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(l,e){l&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),a(3,"Edit Pdf"),t()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),a(9,"Home"),t()(),o(10,"li",8),a(11,"Pdf"),t()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),a(17,"Edit Pdf Form"),t()(),o(18,"div",14),u(19,$,2,0,"p",15)(20,ce,77,24,"form",16),t()()()()),l&2&&(r(19),b(e.formLoader?19:20))},dependencies:[F,I,W,q,k,R,N,A,V,j,D,H,z,O,K],encapsulation:2});let i=m;return i})();export{ye as PdfEditComponent};
