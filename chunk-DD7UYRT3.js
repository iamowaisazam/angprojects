import{a as J}from"./chunk-GN7VLED3.js";import{a as Y}from"./chunk-XCC24VLG.js";import{a as $}from"./chunk-AZ3SLBW5.js";import"./chunk-OA5BMNMG.js";import{a as D}from"./chunk-KNK3ANK6.js";import{b as q,c as s,d as V,e as k,g as A,h as G,i as H,j as O,k as W,l as B,m as z,n as K,o as R}from"./chunk-OO4EHEJG.js";import{a as U}from"./chunk-GWDSJW3V.js";import{a as j}from"./chunk-ZNQGM4JM.js";import"./chunk-E4T5XHJF.js";import{d as w,f as M,u as P}from"./chunk-FDMMK7UD.js";import{$a as p,Aa as r,Ba as u,Ma as f,Oa as m,Qa as y,Ra as E,Sa as I,Ta as F,Ua as o,Va as t,Wa as x,X as S,Za as T,_a as _,ea as C,eb as n,fa as b,fb as L,gb as d,kb as N}from"./chunk-2AQWV6M7.js";import{d as h}from"./chunk-4CLCTAJ7.js";function ee(i,a){i&1&&(o(0,"p",16),n(1,"Loader"),t())}function te(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.title)," ")}}function ie(i,a){if(i&1&&(o(0,"option",25),n(1),t()),i&2){let e=a.$implicit;m("value",e.id),r(),L(e.title)}}function oe(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.category_id)," ")}}function ne(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.status)," ")}}function re(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.featured)," ")}}function ae(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.thumbnail)," ")}}function le(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.short_description)," ")}}function me(i,a){if(i&1&&(o(0,"div",36),n(1),t()),i&2){let e=p(2);r(),d(" ",e.myFormService.getErrorMessage(e.form.controls.long_description)," ")}}function de(i,a){if(i&1){let e=T();o(0,"div",17)(1,"div",18)(2,"div",19)(3,"label",20),n(4),t(),x(5,"input",21),f(6,te,2,1,"div",22),t()(),o(7,"div",18)(8,"div",19)(9,"label",20),n(10),t(),o(11,"select",23)(12,"option",24),n(13,"Select Category"),t(),I(14,ie,2,2,"option",25,E),t(),f(16,oe,2,1,"div",22),t()(),o(17,"div",18)(18,"div",19)(19,"label",20),n(20,"Status"),t(),o(21,"select",26)(22,"option",24),n(23,"Select Status"),t(),o(24,"option",27),n(25,"Enable"),t(),o(26,"option",28),n(27,"Disable"),t()(),f(28,ne,2,1,"div",22),t()(),o(29,"div",18)(30,"div",19)(31,"label",20),n(32,"Is Featured"),t(),o(33,"select",29)(34,"option",24),n(35,"Select Featured"),t(),o(36,"option",27),n(37,"Yes"),t(),o(38,"option",28),n(39,"No"),t()(),f(40,re,2,1,"div",22),t()(),o(41,"div",18)(42,"div",19)(43,"label",20),n(44),t(),o(45,"app-img-uploader",30),_("imgHanle",function(c){let l;C(e);let g=p();return b((l=g.form.get("thumbnail"))==null?null:l.patchValue(c.path))}),t(),f(46,ae,2,1,"div",22),t()(),o(47,"div",31)(48,"div",19)(49,"label",20),n(50),t(),x(51,"input",32),f(52,le,2,1,"div",22),t()(),o(53,"div",31)(54,"div",19)(55,"label",20),n(56),t(),x(57,"editor",33),f(58,me,2,1,"div",22),t()(),o(59,"div",34)(60,"button",35),n(61,"Submit"),t()()()}if(i&2){let e=p();r(4),d("Title (",e.lang.lang,")"),r(2),m("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),r(4),d("Category (",e.lang.lang,")"),r(4),F(e.categories),r(2),m("ngIf",e.form.controls.category_id.invalid&&(e.form.controls.category_id.dirty||e.form.controls.category_id.touched)),r(12),m("ngIf",e.form.controls.status.invalid&&(e.form.controls.status.dirty||e.form.controls.status.touched)),r(12),m("ngIf",e.form.controls.featured.invalid&&(e.form.controls.featured.dirty||e.form.controls.featured.touched)),r(4),d("Thumbnail (",e.lang.lang,")"),r(),m("image",""),r(),m("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),r(4),d("Short Description (",e.lang.lang,")"),r(2),m("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),r(4),d("Long Description (",e.lang.lang,")"),r(),m("init",e.init),r(),m("ngIf",e.form.controls.long_description.invalid&&(e.form.controls.long_description.dirty||e.form.controls.long_description.touched)),r(2),m("disabled",e.formLoader)}}var be=(()=>{let a=class a{constructor(v,c,l,g,Q,X){this.fb=v,this.notification=c,this.myFormService=l,this.service=g,this.websiteService=Q,this.lang=X,this.formLoader=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({title:["",[s.required,s.maxLength(100)]],category_id:["",[s.required,s.maxLength(100)]],short_description:["",[s.required,s.maxLength(200)]],thumbnail:["",s.required],featured:["",s.required],status:["",s.required],long_description:["",[s.required,s.maxLength(1e4)]]}),this.myFormService.setForm(this.form),this.websiteService.get_categories().subscribe(Z=>{this.categories=Z.data.data})}ngOnInit(){this.formLoader=!1}onSubmit(){return h(this,null,function*(){if(this.form.valid){let v=this.form.value;v.type="post",this.formLoader=!0,this.service.update(v).subscribe({next:c=>{this.formLoader=!1,this.notification.success(c.message),this.form.reset(),this.formLoader=!1},error:c=>{let l=c.error;l?l.errors?this.notification.error(Object.values(l.errors)[0]):this.notification.error(l.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.form.markAllAsTouched(),this.formLoader=!1,this.notification.error("Validation Failed")})}};a.\u0275fac=function(c){return new(c||a)(u(z),u(P),u(J),u(U),u(D),u(j))},a.\u0275cmp=S({type:a,selectors:[["app-slider-create"]],standalone:!0,features:[N],decls:22,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","category_id",1,"form-control"],["value",""],[3,"value"],["formControlName","status",1,"form-control"],["value","1"],["value","0"],["formControlName","featured",1,"form-control"],[3,"imgHanle","image"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],["formControlName","long_description","apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9",3,"init"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(c,l){c&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),n(3,"Create Destacados"),t()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),n(9,"Home"),t()(),o(10,"li",8),n(11,"Destacados"),t()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),n(17,"Create Destacados Form"),t()(),o(18,"div",14)(19,"form",15),_("ngSubmit",function(){return l.onSubmit()}),f(20,ee,2,0,"p",16)(21,de,62,15,"div",17),t()()()()()),c&2&&(r(19),m("formGroup",l.form),r(),y(l.formLoader?20:21))},dependencies:[M,w,R,A,W,B,q,O,V,k,G,H,Y,K,$],encapsulation:2});let i=a;return i})();export{be as PostCreateComponent};
