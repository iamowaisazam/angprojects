import{a as L}from"./chunk-INAT6XTF.js";import{e as w,f as j,g as A,n as D}from"./chunk-OO4EHEJG.js";import{a as _}from"./chunk-ZNQGM4JM.js";import"./chunk-E4T5XHJF.js";import{f as N,u as I}from"./chunk-FDMMK7UD.js";import{$a as E,Aa as d,Ba as g,Ma as x,Oa as p,Qa as S,Ua as s,Va as i,Wa as v,X as b,_a as y,eb as c,gb as f,kb as C}from"./chunk-2AQWV6M7.js";import{d as h}from"./chunk-4CLCTAJ7.js";function T(m,u){m&1&&(s(0,"p",10),c(1,"Loading"),i())}function F(m,u){if(m&1&&(s(0,"div",11)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),c(5,"Main Heading"),i()(),s(6,"div",19)(7,"div",20)(8,"div",21)(9,"div",22)(10,"label",23),c(11),i(),v(12,"input",24),i()(),s(13,"div",21)(14,"div",22)(15,"label",23),c(16),i(),v(17,"input",25),i()(),s(18,"div",21)(19,"div",22)(20,"label",23),c(21),i(),v(22,"input",26),i()(),s(23,"div",21)(24,"div",22)(25,"label",23),c(26),i(),v(27,"input",27),i()(),s(28,"div",21)(29,"div",22)(30,"label",23),c(31),i(),v(32,"input",28),i()(),s(33,"div",21)(34,"div",22)(35,"label",23),c(36),i(),v(37,"input",29),i()()()()()()()),m&2){let e=E();d(11),f("Title (",e.lang.lang,")"),d(),p("value",e.data==null||e.data.head==null?null:e.data.head.title),d(4),f("Description (",e.lang.lang,")"),d(),p("value",e.data==null||e.data.head==null?null:e.data.head.description),d(4),f("Search Title (",e.lang.lang,")"),d(),p("value",e.data==null||e.data.head==null?null:e.data.head.searchtitle),d(4),f("Search Description (",e.lang.lang,")"),d(),p("value",e.data==null||e.data.head==null?null:e.data.head.searchdescription),d(4),f("Repositorio de Noticias Anteriores (",e.lang.lang,")"),d(),p("value",e.data==null||e.data.head==null?null:e.data.head.rtitle),d(4),f("Repositorio Description (",e.lang.lang,")"),d(),p("value",e.data==null||e.data.head==null?null:e.data.head.rdescription)}}var J=(()=>{let u=class u{constructor(r,o,t){this.notification=r,this.lang=o,this.service=t,this.formLoader=!1,this.data={}}ngOnInit(){this.getRecord()}getRecord(){this.formLoader=!0,this.service.find("noticias").subscribe({next:r=>{this.data=r.data.noticias?JSON.parse(r.data.noticias):{},this.formLoader=!1},error:r=>{this.formLoader=!1}})}onSubmit(r){return h(this,null,function*(){let o=r.target,t=new FormData(o),a={};t.forEach((n,l)=>{a[l]=n}),t.append("name","noticias"),this.service.update(t).subscribe({next:n=>{this.getRecord(),this.notification.success(n.message)},error:n=>{let l=n.error;l?l.errors?this.notification.error(Object.values(l.errors)[0]):this.notification.error(l.message):this.notification.error("Something Went Wrong")}})})}add_new(r,o){return h(this,null,function*(){let t=r.split("."),a=this.data;for(let l=0;l<t.length-1;l++)a=a[t[l]];let n=t[t.length-1];Array.isArray(a[n])||(a[n]=[]),a[n].push(o)})}removeItem(r,o){return h(this,null,function*(){let t=r.split("."),a=this.data;for(let l=0;l<t.length-1;l++)a=a[t[l]];let n=t[t.length-1];Array.isArray(a[n])?a[n].splice(o,1):console.error(`Target ${n} is not an array.`)})}handleEvent(r,o){let t=r.editor,a=t.getElement();a.setAttribute("name",o);let n=t.getContent();a.value=n}};u.\u0275fac=function(o){return new(o||u)(g(I),g(_),g(L))},u.\u0275cmp=b({type:u,selectors:[["app-admin-settings-noticas"]],standalone:!0,features:[C],decls:19,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[3,"ngSubmit"],[1,"text-center"],[1,"row"],[1,"row","pb-5"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[1,"row","pt-3"],[1,"col-md-12"],[1,"form-group"],[1,"form-label"],["name","head[title]",1,"form-control",3,"value"],["name","head[description]",1,"form-control",3,"value"],["name","head[searchtitle]",1,"form-control",3,"value"],["name","head[searchdescription]",1,"form-control",3,"value"],["name","head[rtitle]",1,"form-control",3,"value"],["name","head[rdescription]",1,"form-control",3,"value"]],template:function(o,t){o&1&&(s(0,"div",0)(1,"div",1)(2,"h4",2),c(3,"Noticias"),i()(),s(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),c(9,"Admin"),i()(),s(10,"li",8),c(11,"Noticias"),i()()()()(),s(12,"form",9),y("ngSubmit",function(n){return t.onSubmit(n)}),x(13,T,2,0,"p",10)(14,F,38,12,"div",11),s(15,"div",12)(16,"div",13)(17,"button",14),c(18,"Submit"),i()()()()),o&2&&(d(13),S(t.formLoader?13:14))},dependencies:[N,D,A,w,j],encapsulation:2});let m=u;return m})();export{J as SettingNoticasComponent};
